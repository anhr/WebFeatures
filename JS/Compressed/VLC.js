var prevState=0,prevVolume=0,monitorTimerId=0,isIE=0;function startvlc(){isIE=1;-1==navigator.appName.indexOf("Microsoft Internet")?(onVLCPluginReady(),isIE=0):"complete"==document.readyState?onVLCPluginReady():document.onreadystatechange=function(){"complete"==document.readyState&&onVLCPluginReady()}}function getVLC(a){return document.getElementById(a)}function onVLCPluginReady(){updateVolume(0)}
function updateVolume(a){var b=getVLC("vlc");b?b.audio.volume+=a:alert("ERROR: updateVolume(deltaVol). vlc == null")}function doVolume(a){getVLC("vlc").audio.volume=2*a}function RestoreVolume(){var a=getVLC("vlc").audio;"undefined"!=typeof a&&(prevVolume=get_cookie("VLCVolume"),null==prevVolume&&(prevVolume=50),a.volume=parseInt(prevVolume))}function Mute(){var a=getVLC("vlc");a?a.audio.toggleMute():alert("ERROR: Mute(). vlc == null")}
function doPlay(){var a=getVLC("vlc");a?a.playlist.isPlaying?a.playlist.play():0<a.playlist.items.count?(a.playlist.play(),monitor()):("undefined"!=typeof a.log&&(a.log.verbosity=-1),alert("nothing to play !")):alert("ERROR: doPlay(). vlc == null")}function doStop(){var a=getVLC("vlc");a&&"undefined"!=typeof a.playlist&&!1!=a.playlist.isPlaying&&(a.playlist.stop(),onStop())}
function onStop(){var a=getVLC("vlc");a?"undefined"!=typeof a.log&&(a.log.verbosity=-1):alert("ERROR: onStop(). vlc == null")}function doFS(){var a=getVLC("vlc");a?a.video.toggleFullscreen():alert("ERROR: doFS(). vlc == null")}
function doGo(a){var b=getVLC("vlc");if(b){var c=[":aspect-ratio=default"];"undefined"!=typeof b.playlist&&(b.playlist.stop(),b.playlist.items.clear(),a=isIE?b.playlist.add(a):b.playlist.add(a,null,c),-1!=a?("undefined"!=typeof b.log&&(b.log.verbosity=1,b.log.messages.clear()),b.playlist.playItem(a),0==monitorTimerId&&monitor()):("undefined"!=typeof b.log&&(b.log.verbosity=-1),alert("cannot play at the moment !")))}else alert("ERROR: doGo(targetURL). vlc == null")}
function monitor(){var a=getVLC("vlc");if(a){if("undefined"!=typeof a.log&&0<a.log.messages.count){for(var b=a.log.messages.iterator();b.hasNext;)b.next();a.log.messages.clear()}"undefined"!=typeof a.input&&(prevVolume!=a.audio.volume&&(prevVolume=a.audio.volume,SetCookie("VLCVolume",prevVolume)),a=a.input.state,prevState!=a&&(0==a&&onStop(),prevState=a),monitorTimerId||(monitorTimerId=setInterval("monitor()",1E3)))}else 0!=monitorTimerId&&(clearInterval(monitorTimerId),monitorTimerId=0)};